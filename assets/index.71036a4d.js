import{u as e,R as a,r as t,L as n,H as l,S as i,a as r,v as o,b as s}from"./vendor.bcc4593b.js";var c,m,d,E,u,p,I,z;(m=c||(c={})).SPECIAL="specjalna",m.PASSIVE="pasywna",m.ACTION="akcja",m.VISIT="wizyta",m.DISCLOSURE="ujawnienie",(E=d||(d={})).CURSED="klątwa",E.HANGED="powieszenie",E.KILLED="zabujstwo",E.VAMPIRISM="wampiryzm",E.PROTECTED="ochrona",E.HEALED="uleczenie",E.IMMUNITY="nietykalność",E.SILENCED="wyciszenie",E.BLOCKED="blokada",(p=u||(u={})).CITY="miasto",p.MAFIA="mafia",p.NEUTRAL="neutralne",(z=I||(I={})).CHAOS="chaos",z.SUPPORT="wsparcie",z.NEUTRAL="neutralne",z.KILLER="zabójca",z.SURVIVOR="niedobitek",z.INVESTIGATIVE="śledczy",z.PROTECTIVE="ochrona";var y={all:[{name:"citizen",label:"obywatel",aliases:[],description:"prawilny członek społeczności miasta, nie ma nic do ukrycia",portrait:null,aligment:u.CITY,natures:[I.NEUTRAL],abilities:[]},{name:"dopler",label:"dopler",aliases:["dozorca"],description:"kiedyś był dozorcą, ale nie lubił przeciągów",portrait:null,aligment:u.MAFIA,natures:[I.CHAOS],abilities:[{kind:c.PASSIVE,description:"w nocy bierze udział w głosowaniu na ofiarę mafii",resolver:()=>{}},{kind:c.PASSIVE,description:"gdy zginie pierwszy członek mafii, przejmuje jego rolę",resolver:e=>e.on("before-next-phase",(e=>{const a=e.players.sort(((e,a)=>e.role.priority>a.role.priority)).filter((e=>e.role.aligment===u.MAFIA));a&&e.self.setRole(a.role)}))}]},{name:"serial-killer",label:"seryjny zabójca",aliases:["sk"],description:"nie może się powstrzymać przed uśmiechem",portrait:null,aligment:u.NEUTRAL,natures:[I.KILLER,I.SURVIVOR],abilities:[{kind:c.VISIT,description:"dokonuje ZABÓJSTWA",resolver:(e,a)=>a.addEffect(d.KILLED)},{kind:c.PASSIVE,description:"jest NIETYKALNY w nocy",resolver:(e,a)=>e.addEffect(d.IMMUNITY)}]}]};function b(){const{name:t}=e(),n=y.all.find((e=>e.name===t));return n?(console.log(t),a.createElement("div",{className:"Role"},a.createElement("div",{className:"portrait"},a.createElement("div",{className:"name"},n.label)),n.abilities.map(((e,t)=>a.createElement("div",{className:"ability",key:t},e.kind,": ",e.description))),a.createElement("div",{className:"description"},n.description),a.createElement("div",{className:"border"}))):a.createElement(a.Fragment,null,"404")}function S(){const e=/^(:?)/gi,[n,l]=t.exports.useState(e),i=y.all.filter((e=>e.label.match(n)||e.name.match(n)||e.aliases.some((e=>e.match(n))))).map(((e,t)=>{const n=A(e);return a.createElement(n,{key:t})}));return a.createElement("div",{className:"RoleSelect"},"Na razie trochę roboczo jeszcze",a.createElement("hr",null),i,a.createElement("input",{type:"text",placeholder:"szukaj...",onChange:a=>{return t=a.target.value,l(""!==t?new RegExp(`^${t}`,"ig"):e),void console.log(n);var t}}))}const A=e=>()=>a.createElement("div",null,a.createElement(n,{to:`/roles/${e.name}`},e.label));function R(){return a.createElement(l,null,a.createElement(i,null,a.createElement(r,{path:"/roles/:name"},a.createElement(b,null)),a.createElement(r,{path:"/roles"},a.createElement(S,null)),a.createElement(r,{path:"/"},"Cóż... prawie nic tu nie ma.",a.createElement("br",null),"Ale za nie długo powinno być.",a.createElement("br",null),"W międzyczasie masz tu ",a.createElement(n,{to:"/roles"},"role"),".")))}!function(e={}){const{immediate:a=!1,onNeedRefresh:t,onOfflineReady:n,onRegistered:l,onRegisterError:i}=e;let r;"serviceWorker"in navigator&&(r=new o("/sw.js",{scope:"/"}),r.addEventListener("activated",(e=>{e.isUpdate?window.location.reload():null==n||n()})),r.register({immediate:a}).then((e=>{null==l||l(e)})).catch((e=>{null==i||i(e)})))}({onOfflineReady(){}}),s.render(a.createElement(a.StrictMode,null,a.createElement(R,null)),document.getElementById("root"));
